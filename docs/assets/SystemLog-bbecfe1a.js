import{_ as T}from"./PageContainer-44a5c8a1.js";import{_ as B}from"./PageViewOne-4a6f7ea3.js";import{r as a,V as C,o as r,b as i,d as t,f as o,S as p,e as u,t as c,i as _,g as E,W as F,U as P,X as R}from"./index-5ad95318.js";/* empty css               *//* empty css              */import"./tooltip-4ed993c7.js";/* empty css               *//* empty css                      *//* empty css                  *//* empty css             *//* empty css              */const k={style:{display:"flex","align-items":"center"}},A={style:{"margin-left":"10px"}},H={__name:"SystemLog",setup(q){const l=a({pageIndex:1,pageSize:10}),f=a([{label:"关键字",fieldName:"keyName",type:"input",attr:{maxlength:10,placeholder:"请输入关键字"}}]),g=a([{fieldName:"timestamp",show:!0,attr:{label:"时间",width:"180",sortable:!1}},{fieldName:"level",show:!0,attr:{label:"日志等级",width:"180"}},{fieldName:"message",show:!0,attr:{label:"日志消息","show-overflow-tooltip":!0}},{fieldName:"module",show:!0,attr:{label:"模块",width:"180"}},{fieldName:"userId",show:!0,attr:{label:"用户 ID",width:"180"}},{fieldName:"ipAddress",show:!0,attr:{label:"IP 地址",width:"180"}},{fieldName:"details",show:!1,attr:{label:"详情",width:"180"}}]),h=a([{label:"导出",attr:{type:"primary",click:()=>{console.info("导出")},icon:"el-icon-plus"}}]),y=a({data:[{timestamp:"2023-11-15T08:30:45.123Z",level:"INFO",message:"系统启动完成",module:"system",userId:"admin",ipAddress:"192.168.1.100",details:{startupTime:3.5,version:"1.2.0"}},{timestamp:"2023-11-15T09:15:22.456Z",level:"WARNING",message:"内存使用率超过80%",module:"monitor",userId:"system",ipAddress:"127.0.0.1",details:{memoryUsage:82.5,threshold:80}},{timestamp:"2023-11-15T10:45:33.789Z",level:"ERROR",message:"数据库连接失败",module:"database",userId:"service",ipAddress:"192.168.1.105",details:{errorCode:"DB_CONN_001",retryCount:3,errorMessage:"Connection timeout after 30 seconds"}},{timestamp:"2023-11-15T11:20:10.012Z",level:"DEBUG",message:"用户认证成功",module:"auth",userId:"user123",ipAddress:"192.168.1.200",details:{authMethod:"password",sessionDuration:3600}},{timestamp:"2023-11-15T12:05:55.345Z",level:"INFO",message:"定时任务执行完成",module:"scheduler",userId:"system",ipAddress:"127.0.0.1",details:{taskName:"dataBackup",executionTime:45.2,recordsProcessed:1250}}],pageIndex:1,pageSize:10,totalCount:100}),w=()=>{console.info("加载数据",l.value)},v=n=>{switch(n){case"INFO":return"info";case"WARNING":return"warning";case"ERROR":return"danger";case"DEBUG":return"primary";default:return"success"}};return(n,m)=>{const N=C("timer"),b=F,d=P,I=R,D=B,x=T;return r(),i(x,null,{Default:t(()=>[o(D,{queryFields:f.value,tableFields:g.value,optionBtns:h.value,queryParams:l.value,"onUpdate:queryParams":m[0]||(m[0]=e=>l.value=e),tableData:y.value,onReloadData:w},{timestamp:t(({column:e})=>[e.show?(r(),i(d,p({key:0,prop:"timestamp"},e.attr),{default:t(s=>[u("div",k,[o(b,null,{default:t(()=>[o(N)]),_:1}),u("span",A,c(s.row.timestamp.split("T")[0]),1)])]),_:2},1040)):_("",!0)]),level:t(({column:e})=>[e.show?(r(),i(d,p({key:0,prop:"level"},e.attr),{default:t(s=>[o(I,{type:v(s.row.level)},{default:t(()=>[E(c(s.row.level),1)]),_:2},1032,["type"])]),_:2},1040)):_("",!0)]),_:1},8,["queryFields","tableFields","optionBtns","queryParams","tableData"])]),_:1})}}};export{H as default};
