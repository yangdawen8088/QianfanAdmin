import{_ as V,o as l,c as r,f as s,Y as G,Z as F,$ as N,a as Q,V as W,e as m,b as u,d as o,F as c,z as b,a0 as Y,S as q,g as f,i as p,t as S,Q as x,P as Z,k as J,a1 as K,a2 as X,L as ee,a3 as te,a4 as ae,a5 as ne,j as le,m as oe,l as se,W as re,a6 as ue,a7 as ie,a8 as ce,U as de,a9 as pe,aa as ge}from"./index-00b30bcd.js";/* empty css               *//* empty css              */import"./tooltip-4ed993c7.js";/* empty css               *//* empty css                      *//* empty css                  *//* empty css             *//* empty css              */const me={class:"pagin-container"},fe={__name:"Pagin",props:{pagerCount:{type:Number,default:5},pageSizes:{type:Array,default:()=>[10,20,50,100]},currentPage:{type:Number,default:1},pageSize:{type:Number,default:10},total:{type:Number,default:0},leftLayout:{type:String,default:"total, sizes"},rightLayout:{type:String,default:"prev, pager, next, jumper"}},emits:["size-change","current-change"],setup(n,{emit:k}){const e=n,y=k,i=_=>{y("size-change",_)},C=_=>{y("current-change",_)};return(_,z)=>{const v=G;return l(),r("div",me,[s(v,{onSizeChange:i,onCurrentChange:C,class:"mt15","pager-count":e.pagerCount,"page-sizes":e.pageSizes,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.leftLayout,total:e.total},null,8,["pager-count","page-sizes","current-page","page-size","layout","total"]),s(v,{onSizeChange:i,onCurrentChange:C,class:"mt15","pager-count":e.pagerCount,"page-sizes":e.pageSizes,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.rightLayout,total:e.total},null,8,["pager-count","page-sizes","current-page","page-size","layout","total"])])}}},ye=V(fe,[["__scopeId","data-v-2154fa3c"]]);const _e={style:{display:"flex","flex-direction":"column",height:"100%"}},he={class:"option-container"},be={class:"option-btns"},Ce={class:"flex-between-center"},ve={style:{flex:"1"}},ke={class:"m-l-12 m-t-12 flex-end-center"},Se={__name:"PageViewOne",props:F(Z({tableData:{type:Array,default:()=>[]},tableFields:{required:!1,type:Array},queryFields:{required:!1,type:Array},optionBtns:{required:!1,type:Array},showResetBtn:{required:!1,type:Boolean}},{tableData:()=>({}),tableFields:()=>[],queryFields:()=>[],optionBtns:()=>[],showResetBtn:!0}),{queryParams:{},queryParamsModifiers:{},selectList:{},selectListModifiers:{}}),emits:F(["reloadData"],["update:queryParams","update:selectList"]),setup(n,{emit:k}){const e=N(n,"queryParams"),y=N(n,"selectList"),i=k,C=()=>{n.queryFields.forEach(a=>{e.value[a.fieldName]=a.defaultValue??void 0}),e.value.fields=n.tableFields.filter(a=>a.show).map(a=>a.fieldName),e.value.pageIndex=n.tableData.pageIndex??1,e.value.pageSize=n.tableData.pageSize??10},_=a=>{e.value.pageSize=a,i("reloadData",e.value)},z=a=>{e.value.pageIndex=a,i("reloadData",e.value)},v=()=>{e.value.fields=n.tableFields.filter(a=>a.show).map(a=>a.fieldName),i("reloadData",e.value)},L=()=>{i("reloadData",e.value)},$=()=>{n.queryFields.forEach(a=>{e.value[a.fieldName]=a.defaultValue??void 0}),i("reloadData",e.value)},A=a=>{y.value=a},T=a=>{e.value.sort={prop:a.prop,order:a.order},i("reloadData",e.value)},M={input:J,cascader:K,select:X,switch:ee,timePicker:te,timeSelect:ae,treeSelect:ne};return Q(()=>{C()}),(a,d)=>{const w=le,h=oe,I=se,U=W("ArrowDown"),H=re,D=ue,P=ie,E=ce,B=de,R=pe,j=ye,O=ge;return l(),r("div",_e,[m("div",he,[m("div",null,[n.queryFields&&n.queryFields.length>0?(l(),u(I,{key:0,inline:!0,model:e.value,class:"demo-form-inline"},{default:o(()=>[(l(!0),r(c,null,b(n.queryFields,t=>(l(),u(w,{key:t,label:t.label},{default:o(()=>[(l(),u(Y(M[t.type??"input"]??""),q({modelValue:e.value[t.fieldName],"onUpdate:modelValue":g=>e.value[t.fieldName]=g},{ref_for:!0},t.attr),null,16,["modelValue","onUpdate:modelValue"]))]),_:2},1032,["label"]))),128)),s(w,null,{default:o(()=>[s(h,{type:"primary",onClick:L},{default:o(()=>d[0]||(d[0]=[f("查询")])),_:1,__:[0]}),n.showResetBtn?(l(),u(h,{key:0,onClick:$},{default:o(()=>d[1]||(d[1]=[f("重置")])),_:1,__:[1]})):p("",!0)]),_:1})]),_:1},8,["model"])):p("",!0)]),m("div",be,[n.optionBtns!==null&&n.optionBtns!==void 0&&n.optionBtns.length<=3?(l(!0),r(c,{key:0},b(n.optionBtns,(t,g)=>(l(),u(h,{key:g,type:t.attr.type,onClick:t.attr.click},{default:o(()=>[f(S(t.label),1)]),_:2},1032,["type","onClick"]))),128)):(l(),r(c,{key:1},[(l(),r(c,null,b(2,t=>s(h,{key:t,type:n.optionBtns[t-1].attr.type,onClick:n.optionBtns[t-1].attr.click},{default:o(()=>[f(S(n.optionBtns[t-1].label),1)]),_:2},1032,["type","onClick"])),64)),s(E,null,{dropdown:o(()=>[s(P,null,{default:o(()=>[(l(!0),r(c,null,b(n.optionBtns.slice(2),t=>(l(),u(D,{key:t,onClick:t.attr.click},{default:o(()=>[f(S(t.label),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:o(()=>[s(h,{class:"m-l-12"},{default:o(()=>[d[2]||(d[2]=f(" 更多 ")),s(H,{class:"el-icon--right"},{default:o(()=>[s(U)]),_:1})]),_:1,__:[2]})]),_:1})],64))])]),s(R,{data:n.tableData.data,style:{width:"100%",flex:"1"},onSelectionChange:A,"default-sort":e.value.sort,onSortChange:T},{default:o(()=>[y.value!==null&&y.value!==void 0?(l(),u(B,{key:0,type:"selection",width:"38"})):p("",!0),(l(!0),r(c,null,b(n.tableFields,(t,g)=>(l(),r(c,{key:g},[a.$slots[t.fieldName]?x(a.$slots,t.fieldName,{key:0,column:t},void 0,!0):p("",!0),!a.$slots[t.fieldName]&&t.show?(l(),u(B,q({key:1,prop:t.fieldName},{ref_for:!0},t.attr),null,16,["prop"])):p("",!0)],64))),128)),a.$slots.optionColumn?x(a.$slots,"optionColumn",{key:1},void 0,!0):p("",!0)]),_:3},8,["data","default-sort"]),m("div",Ce,[m("div",ve,[n.tableData.data.length>0?(l(),u(j,{key:0,onCurrentChange:z,onSizeChange:_,currentPage:e.value.pageIndex,pageSize:e.value.pageSize,total:n.tableData.totalCount},null,8,["currentPage","pageSize","total"])):p("",!0)]),s(E,{"hide-on-click":!1},{dropdown:o(()=>[s(P,null,{default:o(()=>[(l(!0),r(c,null,b(n.tableFields,t=>(l(),r(c,{key:t},[t.attr.label?(l(),u(D,{key:0},{default:o(()=>[s(O,{label:t.attr.label,modelValue:t.show,"onUpdate:modelValue":g=>t.show=g,onChange:v},null,8,["label","modelValue","onUpdate:modelValue"])]),_:2},1024)):p("",!0)],64))),128))]),_:1})]),default:o(()=>[m("div",ke,[s(h,{link:""},{default:o(()=>d[3]||(d[3]=[m("i",{class:"iconfont icon-gengduoshezhicaidan m-r-5"},null,-1),f(" 列筛选 ")])),_:1,__:[3]})])]),_:1})])])}}},xe=V(Se,[["__scopeId","data-v-70af1b3e"]]);export{xe as _};
